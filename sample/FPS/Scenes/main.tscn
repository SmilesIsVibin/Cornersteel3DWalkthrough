[gd_scene load_steps=16 format=3 uid="uid://b648wwgqds5cm"]

[ext_resource type="PackedScene" uid="uid://cu1oiwt353ycd" path="res://FPS/Scenes/player.tscn" id="1_k3n1y"]
[ext_resource type="PackedScene" uid="uid://berck6m7olvin" path="res://FPS/Scenes/switch.tscn" id="2_as12r"]
[ext_resource type="PackedScene" uid="uid://rob7iqq7nifs" path="res://FPS/Scenes/door.tscn" id="3_bs1dc"]
[ext_resource type="PackedScene" uid="uid://i7i41nnciak2" path="res://Prefabs/monitors.glb" id="4_rbmdu"]
[ext_resource type="PackedScene" uid="uid://cwriiw26qlo3g" path="res://Prefabs/cctv.glb" id="5_w305l"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_tl5s6"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_rm8rq"]
sky_material = SubResource("ProceduralSkyMaterial_tl5s6")

[sub_resource type="Environment" id="Environment_x7wry"]
background_mode = 2
background_energy_multiplier = 0.8
sky = SubResource("Sky_rm8rq")
tonemap_mode = 2
glow_bloom = 0.1
adjustment_enabled = true
adjustment_contrast = 1.5

[sub_resource type="PlaneMesh" id="PlaneMesh_di5wa"]
size = Vector2(30, 30)

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_ye47q"]
load_path = "res://.godot/imported/texture_03.png-8b926d3ced76f74ccebe4e70261e04c8.s3tc.ctex"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qse77"]
albedo_texture = SubResource("CompressedTexture2D_ye47q")

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_7g76u"]
data = PackedVector3Array(15, 0, 15, -15, 0, 15, 15, 0, -15, -15, 0, 15, -15, 0, -15, 15, 0, -15)

[sub_resource type="BoxShape3D" id="BoxShape3D_c4ku8"]
size = Vector3(1, 1.65015, 1.88562)

[sub_resource type="ViewportTexture" id="ViewportTexture_i1ose"]
viewport_path = NodePath("Objects/SubViewport")

[sub_resource type="BoxShape3D" id="BoxShape3D_ly5vc"]
size = Vector3(0.321777, 0.851074, 1)

[node name="Main" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_x7wry")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
shadow_enabled = true

[node name="Player" parent="." instance=ExtResource("1_k3n1y")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.856, 0)

[node name="Plane" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0142007, -0.144217, -0.00814962)
mesh = SubResource("PlaneMesh_di5wa")
surface_material_override/0 = SubResource("StandardMaterial3D_qse77")

[node name="StaticBody3D" type="StaticBody3D" parent="Plane"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Plane/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_7g76u")

[node name="Interface" type="Node3D" parent="."]

[node name="Label3D" type="Label3D" parent="Interface"]
transform = Transform3D(0.999781, -0.0209424, 0, 0.0209424, 0.999779, -0.00174533, 3.65514e-05, 0.00174495, 0.999998, -0.705562, 5, -8.84708)
text = "INTERACTION TEST
"
font_size = 72

[node name="Label3D2" type="Label3D" parent="Interface"]
transform = Transform3D(3.65077e-05, 0.00174495, 0.999999, 0.0209424, 0.999779, -0.00174533, -0.999781, 0.0209424, -4.37152e-08, -7.20556, 3.5, 0.15292)
visible = false
text = "Interactions Test
"
font_size = 72

[node name="Objects" type="Node3D" parent="."]

[node name="Monitor" type="StaticBody3D" parent="Objects"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 3.72697, 1.2924, -9.08187)

[node name="Model" parent="Objects/Monitor" instance=ExtResource("4_rbmdu")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Objects/Monitor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.788452, 0.0194702)
shape = SubResource("BoxShape3D_c4ku8")

[node name="Sprite3D" type="Sprite3D" parent="Objects/Monitor"]
transform = Transform3D(-6.17527e-09, 0, -1, 0, 0.16778, 0, 0.141274, 0, -4.37114e-08, 0.14893, 1, 0)
texture = SubResource("ViewportTexture_i1ose")

[node name="Cctv" type="StaticBody3D" parent="Objects"]
transform = Transform3D(-0.382683, 0, 0.92388, 0, 1, 0, -0.92388, 0, -0.382683, 10.75, 4.5, -8.25)

[node name="Model" parent="Objects/Cctv" instance=ExtResource("5_w305l")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Objects/Cctv"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00268555, 0.0744629, 0)
shape = SubResource("BoxShape3D_ly5vc")

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="Objects/Cctv"]
transform = Transform3D(1, 0, 0, 0, 0.906308, 0.422618, 0, -0.422618, 0.906308, 0, -0.25, -0.5)
remote_path = NodePath("../../SubViewport/Camera3D")

[node name="SubViewport" type="SubViewport" parent="Objects"]
size = Vector2i(1280, 720)

[node name="Camera3D" type="Camera3D" parent="Objects/SubViewport"]
transform = Transform3D(-0.382683, -0.390448, 0.83732, 0, 0.906308, 0.422618, -0.92388, 0.161729, -0.346829, 10.2881, 4.25, -8.05866)

[node name="Switch" parent="Objects" instance=ExtResource("2_as12r")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -6, 1.75, -9.25)
prompt_message = "SWITCH"

[node name="Door" parent="Objects" instance=ExtResource("3_bs1dc")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -3.5171, -0.144217, -9.361)

[node name="CSGBox3D" type="CSGBox3D" parent="Objects"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.75, 0.555783, -9)
use_collision = true
size = Vector3(2, 1.4, 1)
